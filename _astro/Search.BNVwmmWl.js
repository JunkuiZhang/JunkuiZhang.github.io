import{o as se,a as ie,I as H,r as Y,i as oe,b as F,h as fe}from"./Icon.DcFLDKh2.js";import{y as ce,x as L,z as de,j as g,o as j,H as ue,A as K,B as U,C as D,D as N,E as ve,F as ee,G as ae,I as he,J as V,K as te,L as W,M as pe,m as B,N as X,O as me,P as be,Q as ge,R as _e,S as xe,T as we,U as ke,V as ye,W as Ee,p as Ie,l as q,n as Te,t as re,X as Ae,a as z,e as G,b as J,f as Re,s as T,c as A,r as R,i as C,k as Se}from"./render.DUGJoRaD.js";import{b as Q}from"./input.COglirfB.js";import{I as Me}from"./zh_TW.mFJFLnK0.js";import{u as Z}from"./url-utils.C_BBxlt-.js";/* empty css                        */function Le(c,e){return e}function Ne(c,e,a,i){for(var u=[],h=e.length,v=0;v<h;v++)ge(e[v].e,u,!0);var _=h>0&&u.length===0&&a!==null;if(_){var d=a.parentNode;_e(d),d.append(a),i.clear(),E(c,e[0].prev,e[h-1].next)}xe(u,()=>{for(var m=0;m<h;m++){var t=e[m];_||(i.delete(t.k),E(c,t.prev,t.next)),we(t.e,!_)}})}function Ce(c,e,a,i,u,h=null){var v=c,_={flags:e,items:new Map,first:null};L&&de();var d=null,m=!1,t=j(()=>{var s=a();return me(s)?s:s==null?[]:te(s)});ce(()=>{var s=g(t),r=s.length;if(m&&r===0)return;m=r===0;let o=!1;if(L){var l=v.data===ue;l!==(r===0)&&(v=K(),U(v),D(!1),o=!0)}if(L){for(var k=null,x,n=0;n<r;n++){if(N.nodeType===8&&N.data===ve){v=N,o=!0,D(!1);break}var b=s[n],I=i(b,n);x=ne(N,_,k,null,b,I,n,u,e,a),_.items.set(I,x),k=x}r>0&&U(K())}L||He(s,_,v,u,e,i,a),h!==null&&(r===0?d?ee(d):d=ae(()=>h(v)):d!==null&&he(d,()=>{d=null})),o&&D(!0),g(t)}),L&&(v=N)}function He(c,e,a,i,u,h,v){var _=c.length,d=e.items,m=e.first,t=m,s,r=null,o=[],l=[],k,x,n,b;for(b=0;b<_;b+=1){if(k=c[b],x=h(k,b),n=d.get(x),n===void 0){var I=t?t.e.nodes_start:a;r=ne(I,e,r,r===null?e.first:r.next,k,x,b,i,u,v),d.set(x,r),o=[],l=[],t=r.next;continue}if(Be(n,k,b),(n.e.f&V)!==0&&ee(n.e),n!==t){if(s!==void 0&&s.has(n)){if(o.length<l.length){var S=l[0],f;r=S.prev;var w=o[0],p=o[o.length-1];for(f=0;f<o.length;f+=1)$(o[f],S,a);for(f=0;f<l.length;f+=1)s.delete(l[f]);E(e,w.prev,p.next),E(e,r,w),E(e,p,S),t=S,r=p,b-=1,o=[],l=[]}else s.delete(n),$(n,t,a),E(e,n.prev,n.next),E(e,n,r===null?e.first:r.next),E(e,r,n),r=n;continue}for(o=[],l=[];t!==null&&t.k!==x;)(t.e.f&V)===0&&(s??=new Set).add(t),l.push(t),t=t.next;if(t===null)continue;n=t}o.push(n),r=n,t=n.next}if(t!==null||s!==void 0){for(var y=s===void 0?[]:te(s);t!==null;)(t.e.f&V)===0&&y.push(t),t=t.next;var M=y.length;if(M>0){var P=null;Ne(e,y,P,d)}}W.first=e.first&&e.first.e,W.last=r&&r.e}function Be(c,e,a,i){pe(c.v,e),c.i=a}function ne(c,e,a,i,u,h,v,_,d,m){var t=(d&ke)!==0,s=(d&ye)===0,r=t?s?B(u):X(u):u,o=(d&be)===0?v:X(v),l={i:o,v:r,k:h,a:null,e:null,prev:a,next:i};try{return l.e=ae(()=>_(c,r,o,m),L),l.e.prev=a&&a.e,l.e.next=i&&i.e,a===null?e.first=l:(a.next=l,a.e.next=l.e),i!==null&&(i.prev=l,i.e.prev=l.e),l}finally{}}function $(c,e,a){for(var i=c.next?c.next.e.nodes_start:a,u=e?e.e.nodes_start:a,h=c.e.nodes_start;h!==i;){var v=Ee(h);u.before(h),h=v}}function E(c,e,a){e===null?c.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}var Pe=re(`<a class="transition first-of-type:mt-2 lg:first-of-type:mt-0 group block
       rounded-xl text-lg px-3 py-2 hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)]"><div class="transition text-90 inline-flex font-bold group-hover:text-[var(--primary)]"> <!></div> <div class="transition text-sm text-50"><!></div></a>`),De=re(`<div id="search-bar" class="hidden lg:flex transition-all items-center h-11 mr-2 rounded-lg
      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]
      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10
"><!> <input class="transition-all pl-10 text-sm bg-transparent outline-0
         h-full w-40 active:w-60 focus:w-60 text-black/50 dark:text-white/50 svelte-1adkdfv"></div> <button aria-label="Search Panel" id="search-switch" class="btn-plain scale-animation lg:!hidden rounded-lg w-11 h-11 active:scale-90"><!></button> <div id="search-panel" class="float-panel float-panel-closed search-panel absolute md:w-[30rem]
top-20 left-4 md:left-[unset] right-4 shadow-2xl rounded-2xl p-2 svelte-1adkdfv"><div id="search-bar-inside" class="flex relative lg:hidden transition-all items-center h-11 rounded-xl
      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]
      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10
  "><!> <input placeholder="Search" class="pl-10 absolute inset-0 text-sm bg-transparent outline-0
               focus:w-60 text-black/50 dark:text-white/50 svelte-1adkdfv"></div> <!></div>`,1);function We(c,e){Ie(e,!1);let a=B(""),i=B(""),u=B([]),h=!1;const v=[{url:Z("/"),meta:{title:"This Is a Fake Search Result"},excerpt:"Because the search cannot work in the <mark>dev</mark> environment."},{url:Z("/"),meta:{title:"If You Want to Test the Search"},excerpt:"Try running <mark>npm build && npm preview</mark> instead."}],_=()=>{document.getElementById("search-panel")?.classList.toggle("float-panel-closed")},d=(f,w)=>{const p=document.getElementById("search-panel");!p||!w||(f?p.classList.remove("float-panel-closed"):p.classList.add("float-panel-closed"))},m=async(f,w)=>{if(!f){d(!1,w),C(u,[]);return}try{let p=[];if(h){const y=await window.pagefind.search(f);p=await Promise.all(y.results.map(M=>M.data()))}else p=v;C(u,p),d(g(u).length>0,w)}catch(p){console.error("Search error:",p),C(u,[]),d(!1,w)}finally{}};se(async()=>{h=typeof window<"u"&&"pagefind"in window}),q(()=>g(a),()=>{m(g(a),!0)}),q(()=>g(i),()=>{m(g(i),!1)}),Te(),ie();var t=De(),s=Ae(t),r=A(s);H(r,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var o=T(r,2);Y(o),R(s);var l=T(s,2),k=A(l);H(k,{icon:"material-symbols:search",class:"text-[1.25rem]"}),R(l);var x=T(l,2),n=A(x),b=A(n);H(b,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var I=T(b,2);Y(I),R(n);var S=T(n,2);Ce(S,1,()=>g(u),Le,(f,w)=>{var p=Pe(),y=A(p),M=A(y,!0),P=T(M);H(P,{icon:"fa6-solid:chevron-right",class:"transition text-[0.75rem] translate-x-1 my-auto text-[var(--primary)]"}),R(y);var O=T(y,2),le=A(O);fe(le,()=>g(w).excerpt),R(O),R(p),z(()=>{F(p,"href",g(w).url),Se(M,g(w).meta.title)}),J(f,p)}),R(x),z(f=>F(o,"placeholder",f),[()=>oe(Me.search)],j),Q(o,()=>g(a),f=>C(a,f)),G("focus",o,()=>m(g(a),!0)),G("click",l,_),Q(I,()=>g(i),f=>C(i,f)),J(c,t),Re()}export{We as default};
